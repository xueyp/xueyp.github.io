---
layout: post
title:  "linux-各种代理类型"
categories: linux
tags: linux 代理
author: xueyp
description: 各种代理类型以及判断方法
---

# 各种代理服务器

1. HTTP代理服务器

代理服务器(Proxy Server)，是介于浏览器和Web服务器之间的一台服务器，有了它，浏览器不再直接到Web服务器去取回网页而是向代理服务器发出请求，请求先送到代理服务器，代理服务器取回浏览器所需要的信息并传送给浏览器。

Proxy Server(代理服务器)是Internet链路级网关所提供的一种重要的安全功能，它在OSI模型的对话层工作。

主要用途有：

- 突破自身IP访问限制，访问国外站点。如：教育网、169网等网络用户可以通过代理访问国外网站。
- 访问一些单位或团体内部资源，如某大学FTP(前提是该代理地址在该资源的允许访问范围之内)，使用教育网内地址段免费代理服务器，就可以用于对教育 网开放的各类FTP下载上传，以及各类资料查询共享等服务。
- 提高访问速度：通常代理服务器都设置一个较大的硬盘缓冲区，当有外界的信息通过时，同时也将其保存到缓冲区中，当其他用户再访问相同的信息时， 则直接由缓冲区中取出信息，传给用户，以提高访问速度。
- 隐藏真实IP：上网者也可以通过这种方法隐藏自己的IP，免受攻击。

2. SSL 代理

SSL是一种国际标准的加密及身份认证通信协议，SSL协议使用通讯双方的客户证书以及CA根证书，允许客户/服务器应用以一种不能被偷听的方式通讯，在通讯双方间建立起了一条安全的、可信任的通讯通道。它具备以下基本特征：信息保密性、信息完整性、相互鉴定。 主要用于提高应用程序之间数据的安全系数。

SSL协议的整个概念可以被总结为：一个保证任何安装了安全套接字的客户和服务器间事务安全的协议，它涉及所有TC/IP应用程序。

SSL代理:支持最高128位加密强度的http代理，可以作为访问加密网站的代理。通常使用端口443作为SSL端口。

3. Socks 代理

Socks 代理只是简单地将一端的系统连接到另外一端。支持多种协议，包括http、ftp请求及其它类型的请求。分socks 4 和socks 5两种类型，socks 4只支持TCP协议而socks 5支持TCP/UDP协议，还支持各种身份验证机制等协议。其标准端口为1080。

Socks不要求应用程序遵循特定的操作系统平台，Socks 代理与应用层代理、 HTTP 层代理不同，Socks代理只是简单地传递数据包，而不必关心是何种应用协议（比如FTP、HTTP和NNTP请求）。所以，Socks代理比其他应用层代理要快得多。它通常绑定在代理服务器的1080端口上。

4. 高级匿名代理

不改变request fields（报文），使服务器端看来就像有个真正的客户浏览器在访问它。当然，真实IP是隐藏起来的。服务器的网管不会认为你使用了代理。

5. 普通匿名代理

能隐藏真实IP，但会更改request fields，有可能会被认为使用了代理，但仅仅是可能，一般说来是没问题的。不过不要受它的名字的误导，其安全性可能比全匿名代理更高，有的代理会剥离部分信息（就好比防火墙的stealth mode），使服务器端探测不到操作系统版本和浏览器版本。

6. elite代理

匿名隐藏性更高，可隐藏系统及浏览器资料信息等。此种代理安全性特强。

7. 透明代理（简单代理）：

透明代理的意思是客户端根本不需要知道有代理服务器的存在，它改编request fields（报文），并会传送真实IP。

8. 其它代理

- FTP代理：代理客户机上的ftp软件访问ftp服务器，其端口一般为21、2121。
- POP3代理：代理客户机上的邮件软件用pop3方式收邮件，其端口一般为110。
- Telnet代理：能够代理通信机的telnet，用于远程控制，入侵时经常使用。其端口一般为23。
- TUNNEL代理：经HTTPTunnet程序转换的数据包封装成http请求（Request）来穿透防火墙，允许利用HTTP服务器做任何TCP可以做的事情，功能相当于Socks5。
- 文献代理：可以用来查询数据库的代理，通过这些代理，可以获得互联网的相关科研学术的数据库资源，例如查询Sciencedirect网站（简称SD）、Academic Press、IEEE，SPRINGER等数据库。
- 教育网代理：指学术教育机构局域网通过特定的代理服务器可使无出国权限或无访问某IP段权限的计算机访问相关资源。
- 跳板代理：应用于跳板程序，可以看作一种具有动态加密的特殊socks5代理，，也可直接用于PSD软件。其端口一般为1813。 
- Ssso代理：代理客户机上的ssso程序访问远程网站，具有SSL加密强度的超级代理，支持socks。
- Flat代理：代理客户机上的flatsurfer程序访问远程网站，具有高强度加密数据流的特殊代理，支持socks，最大可设置三次级联，可以设置穿越代理。其端口一般为6700。
- SoftE代理：代理客户机上的SoftEther程序访问远程网站，应用虚拟集线器HUB和虚拟网卡技术，具备VPN功能及多种认证方式的代 

# 常见代理高匿性判断方法

代理服务器端的配置不同，导致其向目标地址发送请求时，REMOTE_ADDR， HTTP_VIA，HTTP_X_FORWARDED_FOR三个变量不同。有可能会暴露访问终端的Ip给目标地址。

- 没有使用代理服务器

REMOTE_ADDR = 访问终端 IP

HTTP_VIA = 没数值或不显示

HTTP_X_FORWARDED_FOR = 无数值或不显示

- 使用透明代理服务器（Transparent Proxies）

REMOTE_ADDR = 最后一个代理服务器 IP

HTTP_VIA = 代理服务器 IP

HTTP_X_FORWARDED_FOR = 终端真实 IP ，经过多个代理服务器时，这个值类似如下：1.2.3.4, 5.6.7.8, 9.0.1.2

此类代理服务器仍然将终端信息转发给终端访问对象，无法达到隐藏真实身份的目的。

- 使用普通匿名代理服务器(Anonymous Proxies)

REMOTE_ADDR = 最后一个代理服务器 IP

HTTP_VIA = 代理服务器 IP

HTTP_X_FORWARDED_FOR = 代理服务器 IP ，经过多个代理服务器时，这个值类似如下：5.6.7.8, 9.0.1.2

此类代理服务器隐藏了终端真实IP，但是向访问对象透露了终端是使用代理服务器访问他们的。

- 使用欺骗性代理服务器(Distorting Proxies)

REMOTE_ADDR = 代理服务器 IP

HTTP_VIA = 代理服务器 IP

HTTP_X_FORWARDED_FOR = 随机的 IP ，经过多个代理服务器时，这个值类似如下：3.6.9.12, 5.6.7.8, 9.0.1.2

此类代理服务器告诉了访问对象终端使用了代理服务器，却编造了一个虚假的随机IP代替终端真实IP欺骗它。

- 使用高匿名代理服务器(High Anonymity Proxies (Elite proxies))：

REMOTE_ADDR = 代理服务器 IP

HTTP_VIA = 没数值或不显示

HTTP_X_FORWARDED_FOR = 没数值或不显示 ，经过多个代理服务器时，这个值类似如下：5.6.7.8, 9.0.1.2

此类代理服务器完全用代理服务器的信息替代了终端所有信息，就象终端就是完全使用那台代理服务器直接访问对象一样。

**有了以上的了解，判断代理高匿性的方法应当很显然了：**

- 自己有一个网站最好，没有的话搭建一个网站
- 通过代理的方式访问
- 通过网站查看访问终端所发送的环境变量信息。具体来说，就是查看HTTP_VIA字段，如果这个字段设置了，说明访问终端使用了代理服务器，同时也可以通过HTTP_X_FORWARDED_FOR看出访问终端使用了哪种代理。

另外，如果实在没有自己的网站，还可以通过代理访问https://request.urih.com/，  https://www.ip2proxy.com/ 来获取到Request header，从中判断相应字段，和通过自己的网站判断效果一样的。

参考
============

[HTTP_X_FORWARDED_FOR, HTTP_VIA and REMOTE_ADDR Explained](https://www.xpertdeveloper.com/http_x_forwarded_for-http_via-and-remote_addr-explained/)

[透明代理、匿名代理、混淆代理、高匿代理有什么区别？](https://blog.csdn.net/a19860903/article/details/47146715)


版权声明：本文为博主原创文章，转载请注明出处。 [旭日酒馆](https://xueyp.github.io/)

